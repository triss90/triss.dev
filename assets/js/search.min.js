function loadJSON(e){var t=new XMLHttpRequest;t.overrideMimeType("application/json"),t.open("GET","/sitemap.json",!0),t.onreadystatechange=function(){4==t.readyState&&"200"==t.status&&e(t.responseText)},t.send(null)}function search(e){loadJSON(function(t){let n=JSON.parse(t);const a={includeScore:!0,keys:["title","description"]},s=new Fuse(n,a),r=s.search(e),o=document.querySelector("#posts-list");if(r.length<=0){const e=document.createElement("li"),t=document.createElement("h3");t.style.textAlign="center",t.innerHTML="No results found",e.appendChild(t),o.innerHTML='<span class="loader"></span>',setTimeout(()=>{o.querySelector(".loader").remove(),o.appendChild(e)},1e3)}else for(var l=0,c=r.length;l<c;l++){var d=r[l];const e=document.createElement("li"),t=document.createElement("h2"),n=document.createElement("a"),a=d.item.title,s=d.item.url;n.innerHTML=a,n.setAttribute("href","/blog/"+s),t.appendChild(n);const c=document.createElement("time"),i=d.item.date;c.setAttribute("datetime",i),c.classList.add("post-date"),c.innerHTML=i;const p=document.createElement("span"),u=d.item.tags;p.classList.add("categories"),p.innerHTML=u;const m=document.createElement("hr");e.appendChild(t),e.appendChild(c),e.appendChild(p),e.appendChild(m),o.appendChild(e),o.innerHTML='<span class="loader"></span>',setTimeout(()=>{o.querySelector(".loader").remove(),o.appendChild(e)},1e3)}})}const searchInput=document.getElementById("search"),posts=search(searchInput.value);