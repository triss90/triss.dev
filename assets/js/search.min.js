function loadJSON(e){var t=new XMLHttpRequest;t.overrideMimeType("application/json"),t.open("GET","/sitemap.json",!0),t.onreadystatechange=function(){4==t.readyState&&"200"==t.status&&e(t.responseText)},t.send(null)}function search(e){loadJSON(function(t){let n=JSON.parse(t);const a={includeScore:!0,keys:["title","description"]},s=new Fuse(n,a),c=s.search(e),d=document.querySelector("#posts-list"),o=document.createElement("span");o.classList.add("loader"),d.appendChild(o),setTimeout(()=>{if(d.querySelector(".loader").remove(),c.length<=0){const e=document.createElement("li"),t=document.createElement("h3");t.style.textAlign="center",t.innerHTML="No results found",e.appendChild(t)}else for(var e=0,t=c.length;e<t;e++){var n=c[e];const t=document.createElement("li"),a=document.createElement("h2"),s=document.createElement("a"),o=n.item.title,l=n.item.url;s.innerHTML=o,s.setAttribute("href","/blog/"+l),a.appendChild(s);const r=document.createElement("time"),i=n.item.date;r.setAttribute("datetime",i),r.classList.add("post-date"),r.innerHTML=i;const p=document.createElement("span"),m=n.item.tags;p.classList.add("categories"),p.innerHTML=m;const u=document.createElement("hr");t.appendChild(a),t.appendChild(r),t.appendChild(p),t.appendChild(u),d.appendChild(t)}},1e3)})}const searchInput=document.getElementById("search"),posts=search(searchInput.value);